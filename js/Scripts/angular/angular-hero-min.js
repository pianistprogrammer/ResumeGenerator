!function(){"use strict";angular.module("alAngularHero",["ngAnimate"]).animation(".hero-transition",[function(){var t,e,n,i,o,r=function(t,i){return e=t,n.push(i),u()},a=function(e,i){return t=e,n.push(i),e.addClass("hero-leave"),u()},u=function(){if(t&&e){i&&clearTimeout(i),setTimeout(l);var n=!1;return function(){n||(n=!0,h())}}return i=setTimeout(function(){f(!0)}),null},l=function(){for(var n=t[0].getElementsByClassName("hero"),i=e[0].getElementsByClassName("hero"),o=[],r=0;r<n.length;r++)for(var a=0;a<i.length;a++)n[r].getAttribute("hero-id")===i[a].getAttribute("hero-id")&&o.push({from:n[r],to:i[a]});o.forEach(function(t){s(angular.element(t.from),angular.element(t.to))}),f()},s=function(n,i){var r=c(n,t),a=c(i,e),u=n.clone();n.css("visibility","hidden"),i.css("visibility","hidden"),t.parent().append(u),u.css({top:r.top+"px",left:r.left+"px",width:r.width+"px",height:r.height+"px",margin:"0"}).addClass("hero-animating");var l={complete:!1,onComplete:function(){l.complete=!0,f()},remove:function(){i.css("visibility",""),u.unbind("transitionend",l.onComplete),u.remove()}};o.push(l),setTimeout(function(){u.css({transform:"translate3d("+(a.left-r.left)+"px, "+(a.top-r.top)+"px, 0)",width:a.width+"px",height:a.height+"px"}).addClass("hero-animating-active"),u.attr("class",i.attr("class")+" hero-animating"),u.bind("transitionend",l.onComplete)},50)},c=function(t,e){var n=t[0].getBoundingClientRect(),i=e[0].getBoundingClientRect();return{top:n.top-i.top,left:n.left-i.left,width:n.width,height:n.height}},f=function(t){var e=!0;if(t||o.forEach(function(t){e=e&&t.complete}),e){var i=n.slice(0);i.forEach(function(t){t()}),h()}},h=function(){t=null,e=null,n=[],o&&o.forEach(function(t){t.remove()}),o=[]};return h(),{enter:function(t,e){return r(t,e)},leave:function(t,e){return a(t,e)}}}])}();